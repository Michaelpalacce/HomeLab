apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: paperless-ngx
    namespace: paperless-ngx
spec:
    interval: 5m
    install:
        createNamespace: true
        crds: CreateReplace
        remediation:
            retries: 3
    upgrade:
        crds: CreateReplace
        remediation:
            retries: 3
    chart:
        spec:
            chart: paperless-ngx
            version: 0.16.1
            interval: 5m
            sourceRef:
                kind: HelmRepository
                name: gabe565
                namespace: flux-system
    values:
        env:
            PAPERLESS_OCR_LANGUAGES: eng bul
        podAnnotations:
            backup.velero.io/backup-volumes: data,media,export,consume
        image:
            # -- Image repository
            repository: ghcr.io/paperless-ngx/paperless-ngx
            # -- Image pull policy
            pullPolicy: IfNotPresent
            # -- Image tag
            tag: 2.6.2
        persistence:
            data:
                enabled: ENC[AES256_GCM,data:JJEDIQ==,iv:+HWDITpxyH6ao7x/pIPMRqoX/m395Cnx3hThvQuZq9E=,tag:3gTdBWr5BlCZAn2tbQabqg==,type:bool]
                storageClass: ENC[AES256_GCM,data:oNlGjTYXcNE=,iv:+mEUI1x6LI5XUWa7YhJETAX/1x2ceyaVfSISTGtuI/w=,tag:ugOyhZwqXKAq7+auC8rp7g==,type:str]
                accessMode: ENC[AES256_GCM,data:T2/sYLpZ3QmPM79Z/Q==,iv:J+IUMdN5DjnWpFz3UW2+7JObh29Tt4vGnV69vXXobeQ=,tag:gVVzryISWS2LKZG8jSBhyQ==,type:str]
                size: ENC[AES256_GCM,data:6bTEig==,iv:PqJFHsXs0gmYVS/Ww9c2LaF7yz6btn68989iSke1Y1E=,tag:sYDfrdJviwnFlw6kAhLMYQ==,type:str]
            media:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 100Gi
            export:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 1Gi
            consume:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 4Gi
        ingress:
            main:
                enabled: true
                annotations:
                    kubernetes.io/ingress.class: ENC[AES256_GCM,data:1kDiow4=,iv:hY1aF6zkbWlKjCkVjaYHPe48cujsx76lNzZuyxxiw2s=,tag:nTmZ4zyjgNBlkmUnfmDFnw==,type:str]
                    gethomepage.dev/enabled: ENC[AES256_GCM,data:ui5whg==,iv:UJtcd43DJP4MfaePS2DY76q4uttM7+SZbUFfjjK4BwU=,tag:IKkM+otJ0BGVBvdOiEoV4Q==,type:str]
                    gethomepage.dev/description: ENC[AES256_GCM,data:l9Ocbtkpx4TDLeUqdTEG1o1XStWrXdaFrtw=,iv:oIMh3xz69wa9Qh2kaK6WcmSiyZ8258v1IuA03HQnYxs=,tag:McFHAZ8vKeb4o9kQbKchtQ==,type:str]
                    gethomepage.dev/group: ENC[AES256_GCM,data:fjkUDp2iuWbF,iv:pRBj6FT5v3fVfDp2/dUu/Ck1CxUDhVlsxGYhbktL5Vc=,tag:ZmxsmIAZWz374sxf/NgpCQ==,type:str]
                    gethomepage.dev/icon: ENC[AES256_GCM,data:qQ5DjkE6Zb8/GEvRhQ==,iv:uNeThiOj2Ad7vNX7qu2IYy2G7f4AK9xZoAGOihsqbak=,tag:2m7Zqp78kie7iyTV2USUoA==,type:str]
                    gethomepage.dev/name: ENC[AES256_GCM,data:RKfMV6KzF63uQ33lrw==,iv:D38YPDx0DerTVSkgbCtqyT81jl2aXuYpat+Mb4bpapg=,tag:fjh1N5vmWneh5FUqZSOQ8A==,type:str]
                    gethomepage.dev/widget.type: ENC[AES256_GCM,data:IQnOvsBFCq8670qt,iv:5IBbPBNyeoukABnQxqvlB34bI6qRyUf+xuzMVmnjFv4=,tag:AEXMSpbZFL64rkYMGLLXiQ==,type:str]
                    gethomepage.dev/widget.url: ENC[AES256_GCM,data:kReUpmXZtm0my3eUUboslnT/pwl+niW1ajJoekHxjN5FEg==,iv:ymX3zIImVNSZuUI+mbCcmI5vCiQp4HSSlbTZRzbFSbQ=,tag:Wqj1tz29B0w+//TUX5XZJA==,type:str]
                    gethomepage.dev/widget.key: ENC[AES256_GCM,data:43f256qGpebKC5WgzPrBR3KZ1mbpEOs8dHOxnShMVOZ2+muWswp8Gg==,iv:ja5cpxtBVoXkPK/Okje606oEQeSZiAdnmxKQoP3INes=,tag:Dgbfm/qWEFQl1NAh8vxtkw==,type:str]
                hosts:
                    - host: ENC[AES256_GCM,data:CbwKYhu74UERyvZgHjcKFydPsYa+p4/3S+g=,iv:sPnGvVWwfsO3XcYfSMag2UI7CxGakvznaotEE61StOo=,tag:WHQDHkIAZHFHcAbrgrKILA==,type:str]
                      paths:
                        - path: /
                tls:
                    - secretName: ingress
                      hosts:
                        - '*.stefangenov.site'
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1mq6usjzvvxvcp7tl03yjdqd0kgjhhvhz48kmg86p43nhx0jc75jssw0kfn
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB2TUJUbzdJajFtQytjV0xz
            Q0Jwem1OTWNtTWJ5enBuZTAzalRFYWVCRWtBCnR4OFZjeWplaGxrK2VsTmZXZVVk
            YVM5NC81dUhCL3ZrZTdwRXJzUktSNEEKLS0tIG51ZzcxUXBod3I3WFVZM3JWQ25v
            MS9UeEFhbTNFZXVqRThHbUFWTWo2aEkK7hG3Ry3paURFI0z/6zGp6TQkdX3ZwqUn
            47UxZzYWv6vbIPSlcSOoxxg75DsZpC5E5VIhWv8LKFOSZFVW5X1aBg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-03-13T23:58:05Z"
    mac: ENC[AES256_GCM,data:6Vk0Tya+W5buIi3Cc9WTe27D/0HJRz8g1Zs/2JNn5u/H+UB1nbWEVOYWuStZ78UuDgDlyrbAoVmZxFu4hSWagJIgCipurheJ2jr39sVaLQbkucXPUxgezL1qng6IQoHk7hNV2FT8QQgDH2QIqYMoVSLq00tGNO7RXgGKEKbVcH8=,iv:Os3v2UPybsE+AwhIQLf8EcNBW8apcTMq9LPveeMUYpg=,tag:ZgGXe6LMZD433Boon2pihw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|annotations|host)$
    version: 3.8.1
