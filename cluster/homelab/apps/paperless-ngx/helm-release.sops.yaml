apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: paperless-ngx
    namespace: paperless-ngx
spec:
    interval: 5m
    install:
        createNamespace: true
        crds: CreateReplace
        remediation:
            retries: 3
    upgrade:
        crds: CreateReplace
        remediation:
            retries: 3
    chart:
        spec:
            chart: paperless-ngx
            version: 0.16.1
            interval: 5m
            sourceRef:
                kind: HelmRepository
                name: gabe565
                namespace: flux-system
    values:
        env:
            PAPERLESS_OCR_LANGUAGES: eng bul
        podAnnotations:
            backup.velero.io/backup-volumes: data,media,export,consume
        image:
            # -- Image repository
            repository: ghcr.io/paperless-ngx/paperless-ngx
            # -- Image pull policy
            pullPolicy: IfNotPresent
            # -- Image tag
            tag: 2.6.2
        persistence:
            data:
                enabled: ENC[AES256_GCM,data:Nas9kg==,iv:2ZH1WdLpd5yHHceBje/dntcGeZ624q/jAzefikM7GFg=,tag:sD9616b/LYZKj/iqmzTutg==,type:bool]
                storageClass: ENC[AES256_GCM,data:Sbfzh2yr198=,iv:HQrz+h8r6JAxD9hp5NSRqSMUdexUTiKND6GDgdo3/Oc=,tag:2Wsds+fUN0fgNaEIWOHpRw==,type:str]
                accessMode: ENC[AES256_GCM,data:x99jMMmyABjK+sIVig==,iv:o0dx1QelOrgaSLjHEa7Mf328KlDO6lkjO8zbZXnLMR4=,tag:V3dfW+JnHibYK/H4lWSxcA==,type:str]
                size: ENC[AES256_GCM,data:Fg5iyg==,iv:MyEKNZgBL21LKt9anq1QeEnwqz1mWno86LDj+sDuEHM=,tag:ipoSS/ErXEGoROlBadO8OA==,type:str]
            media:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 100Gi
            export:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 1Gi
            consume:
                enabled: true
                storageClass: longhorn
                accessMode: ReadWriteOnce
                size: 4Gi
        ingress:
            main:
                ingressClassName: nginx
                enabled: true
                annotations:
                    gethomepage.dev/enabled: ENC[AES256_GCM,data:Fh8leg==,iv:TLWu5dsgyW1AxB4PjqlHmuVjKxhXffisuPQHComW0Nk=,tag:uzgeBYYtuFUWfG/0FxQLGQ==,type:str]
                    gethomepage.dev/description: ENC[AES256_GCM,data:K/dmuaXBuT1KzUA4uay+it/qksz9aFE4jW4=,iv:5srpUcJET4DTuKe+E2cCVidAs+TeFIVc6heviaJzFM0=,tag:6MmK84NfXLw+e2mpiFzCRg==,type:str]
                    gethomepage.dev/group: ENC[AES256_GCM,data:7P/hCVU+aKRm,iv:81IlVJbbpXE5CYOeAkGXS613Y4EVENqCZe7R68KVSNI=,tag:/j0m31YaWM0raJTZjAS+hA==,type:str]
                    gethomepage.dev/icon: ENC[AES256_GCM,data:CfIsB4wEpjWl7P/OPQ==,iv:QevHVz1kFPsTrAOrazsh1Cq41aUM36UwFn1QxgfWW74=,tag:i36zZqgciqGOxlPLIH4bsw==,type:str]
                    gethomepage.dev/name: ENC[AES256_GCM,data:zxemta8uoWGrYczPYg==,iv:VqyB6mcb1TdNXg2TdmTjU4OK0Sy/2zj0C6imfzHOLmA=,tag:cOx+4WVm6DIaBZ0qhES90w==,type:str]
                    gethomepage.dev/widget.type: ENC[AES256_GCM,data:xwbZmsyYeT6k/lwj,iv:SfaM7yBdbeSFVpR9NE5eR8PCd6JARNDYmd1ZEIsZsSw=,tag:Re838Ex2aQSi24ao8Tm99w==,type:str]
                    gethomepage.dev/widget.url: ENC[AES256_GCM,data:0YHNEaM3UQ5dGHwNk9B7p81H+S7COL/KQfJ04hwIC/jkrw==,iv:dISAMUGHf1WPcHY4bojPMmRXjVhRebAWkw7p6ItXfJY=,tag:+T9Jl0kTh0ATGIPXUmdBwg==,type:str]
                    gethomepage.dev/widget.key: ENC[AES256_GCM,data:EKhopKoJa8iN44m69XfOvWTh0LOPkzsvodMW/SWaX8hDw5T1DG8aow==,iv:HpDdM3GnbdOdeexS0eU3iOBL7GMJhStcsqtrSxDX2IE=,tag:rl2uqbtpQmcbzdPxgu3mEA==,type:str]
                hosts:
                    - host: ENC[AES256_GCM,data:4/tNVC69JIDcl6hk06aCKmVb3lim9wwGbKs=,iv:keeRmJPpT6zO4K0hxEi5p8xlk04PDmArVO97RADoylA=,tag:fE1XL/4QH09NVOOqnIFXsA==,type:str]
                      paths:
                        - path: /
                tls:
                    - secretName: ingress
                      hosts:
                        - '*.stefangenov.site'
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1mq6usjzvvxvcp7tl03yjdqd0kgjhhvhz48kmg86p43nhx0jc75jssw0kfn
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCVGdSUHlEcEVaWGVLUGtD
            QTAzUDllR0FXVytuclBWNVBtb1FXREhGSWxnCkRCOCtWQWxkeDdsNWl1QXQrUUc0
            RVV4NTVqNXExTzBrbTJBRmJ1dStsRk0KLS0tIGdQK1BBU2txc2RYZmJrRmNJMlRn
            amR3RWtoR0NtdDFpTnJsVVh2dDRkKzQK6BfyG7qnKB9eCRiQtCfRix2fUT5nAeep
            U5qs7YbtthsqTyscyBHku4jCFI6jxetIRko17DZdJF9uUyHDdPWkPw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-03-16T12:27:19Z"
    mac: ENC[AES256_GCM,data:dyCKe36hJ6RfOLUDGU8PDPcWkpp3nJN71WHCavC8e/YfNWCt6Hx1EKmTxLsDJ0CbcpPeyqkObg2dPxvbAuO7BWyCeguqAqpqq8W973jr++7SXY3A5xtkswqNa83aNsFV+0Bh1FPcGa92KTijEikrFYfupXagB/9E/PPYYheDmJM=,iv:1TYQMJGpHEC30usUzkuDlRx7Nw89j0iHk90u8nWcHGY=,tag:7OSEUnf/a9ALx7uHI4etkw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|annotations|host)$
    version: 3.8.1
